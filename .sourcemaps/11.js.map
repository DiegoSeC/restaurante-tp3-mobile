{"version":3,"sources":["../../src/pages/delivery/delivery.module.ts","../../src/pages/delivery/delivery.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { DeliveryPage } from './delivery';\n\n@NgModule({\n  declarations: [\n    DeliveryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DeliveryPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    DeliveryPage\n  ]\n})\nexport class DeliveryPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/delivery/delivery.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { Restaurant } from '../../providers/providers';\n\nimport { AlertController } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-delivery',\n  templateUrl: 'delivery.html'\n})\nexport class DeliveryPage {\n\n  public waybills: any;\n  public originalWaybills: any;\n\n  constructor(public navCtrl: NavController,\n            public restaurant: Restaurant,\n            public alertCtrl: AlertController,\n            private toastCtrl: ToastController) {\n    this.getDelivery();\n  }\n\n  getDelivery() {\n    this.restaurant.getWaybills().subscribe(\n      (res: any) => this.waybills = res.data\n    );\n  }\n\n  updateModel(index: number) {\n    this.waybills[index].checked = true;\n  }\n\n  filterItems(ev: any) {\n    this.setWayBills();\n    let val = ev.target.value;\n\n    if (val && val.trim() !== '') {\n      this.waybills = this.waybills.filter(function(waybill) {\n        return waybill.document_number.toLowerCase().includes(val.toLowerCase());\n      });\n    }\n  }\n\n  goTo(waybill: any) {\n    this.navCtrl.push('DeliveryDetailPage', {waybill: waybill});\n  }\n\n  changeStatus(status: string, observacion = '') {\n    this.waybills = this.waybills.map(waybill => {\n      if(waybill.checked === true) {\n        waybill.delivery_status = status;\n        waybill.comment = observacion;\n      }\n\n      return waybill;\n    });\n  }\n\n  promptWaybills(status: string, title: string, message: string) {\n    let showPrompt = this.waybills.filter(waybill => waybill.checked === true);\n\n    if(showPrompt.length === 0) {\n      return null;\n    }\n\n    let prompt = this.alertCtrl.create({\n      title: `${title} Entrega`,\n      message: \"Observacion\",\n      inputs: [\n        {\n          name: 'observacion',\n          placeholder: 'Observacion'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Atras',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: title,\n          handler: data => {\n            this.changeStatus(status, data.observacion);\n            this.presentToast(message);\n          }\n        }\n      ]\n    });\n\n    prompt.present();\n  }\n\n  presentToast(message: string) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom'\n    });\n\n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n\n    toast.present();\n  }\n\n  setWayBills() {\n    if(typeof this.originalWaybills === 'undefined' &&\n       typeof this.waybills !== 'undefined') {\n      this.originalWaybills = this.waybills;\n    }\n\n    this.waybills = this.originalWaybills;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/delivery/delivery.ts"],"sourceRoot":""}