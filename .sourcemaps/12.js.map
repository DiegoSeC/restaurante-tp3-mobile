{"version":3,"sources":["../../src/pages/delivery-details/delivery-detail.module.ts","../../src/pages/delivery-details/delivery-detail.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { DeliveryDetailPage } from './delivery-detail';\n\n@NgModule({\n  declarations: [\n    DeliveryDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DeliveryDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    DeliveryDetailPage\n  ]\n})\nexport class DeliveryDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/delivery-details/delivery-detail.module.ts","import {\n GoogleMaps,\n GoogleMap,\n GoogleMapsEvent,\n GoogleMapOptions\n} from '@ionic-native/google-maps';\n\nimport { AlertController } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\nimport { Restaurant } from '../../providers/providers';\n\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-delivery-detail',\n  templateUrl: 'delivery-detail.html'\n})\nexport class DeliveryDetailPage {\n\n  public waybill: any;\n  public map: GoogleMap;\n  public buttonText: string;\n\n  constructor(public navCtrl: NavController,\n    private navParams: NavParams,\n    public restaurant: Restaurant,\n    private googleMaps: GoogleMaps,\n    public alertCtrl: AlertController,\n    private toastCtrl: ToastController) {\n      this.waybill = this.navParams.get('waybill');\n      this.buttonText = (this.waybill.delivery_status === 'En Ruta')\n        ? 'Finalizar' : 'Iniciar';\n  }\n\n  ionViewDidLoad() {\n   this.loadMap();\n  }\n\n  showPrompt(title: string, message: string, status: string) {\n    if (this.buttonText === 'Iniciar') {\n      this.waybill.delivery_status = 'En Ruta';\n      this.buttonText = 'Finalizar';\n      this.restaurant.updateWaybill(this.waybill);\n      return null;\n    }\n\n    let prompt = this.alertCtrl.create({\n      title: `${title} Entrega`,\n      message: \"Observacion\",\n      inputs: [\n        {\n          name: 'observacion',\n          placeholder: 'Observacion'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Atras',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: title,\n          handler: data => {\n            this.waybill.delivery_status = status;\n            this.waybill.comment = data.observacion;\n            this.restaurant.updateWaybill(this.waybill);\n            this.presentToast(message);\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n  presentToast(message: string) {\n    let toast = this.toastCtrl.create({\n      message: message,\n      duration: 3000,\n      position: 'bottom'\n    });\n\n    toast.onDidDismiss(() => {\n      console.log('Dismissed toast');\n    });\n\n    toast.present();\n  }\n\n  loadMap() {\n\n    let mapOptions: GoogleMapOptions = {\n      camera: {\n        target: {\n          lat: 43.0741904,\n          lng: -89.3809802\n        },\n        zoom: 18,\n        tilt: 30\n      }\n    };\n\n    let element: HTMLElement = document.getElementById('map');\n\n    this.map = this.googleMaps.create(element, mapOptions);\n\n    // Wait the MAP_READY before using any methods.\n    this.map.one(GoogleMapsEvent.MAP_READY)\n      .then(() => {\n        console.log('Map is ready!');\n\n        // Now you can use all methods safely.\n        this.map.addMarker({\n            title: 'Ionic',\n            icon: 'blue',\n            animation: 'DROP',\n            position: {\n              lat: 43.0741904,\n              lng: -89.3809802\n            }\n          })\n          .then(marker => {\n            marker.on(GoogleMapsEvent.MARKER_CLICK)\n              .subscribe(() => {\n                alert('clicked');\n              });\n          });\n\n      });\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/delivery-details/delivery-detail.ts"],"sourceRoot":""}